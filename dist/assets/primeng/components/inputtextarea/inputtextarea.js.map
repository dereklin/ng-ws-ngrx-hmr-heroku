{"version":3,"file":"inputtextarea.js","sourceRoot":"","sources":["inputtextarea.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAsE,eAAe,CAAC,CAAA;AACtF,uBAA2B,iBAAiB,CAAC,CAAA;AAc7C;IAYI,uBAAmB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;IAAG,CAAC;IAErC,gCAAQ,GAAR;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;QAC7B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;IACjC,CAAC;IAGD,+BAAO,GAAP,UAAQ,CAAC;QACL,EAAE,CAAA,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;IACL,CAAC;IAGD,8BAAM,GAAN,UAAO,CAAC;QACJ,EAAE,CAAA,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;IACL,CAAC;IAGD,+BAAO,GAAP,UAAQ,CAAC;QACL,EAAE,CAAA,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;IACL,CAAC;IAED,8BAAM,GAAN;QACI,IAAI,UAAU,GAAG,CAAC,EAClB,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAEhD,GAAG,CAAA,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAG,EAAE,CAAC,EAAE,CAAC;YACvC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;QACvE,CAAC;QAED,IAAI,CAAC,IAAI,GAAG,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;IACvF,CAAC;IAED,sBAAI,iCAAM;aAAV;YACI,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,IAAI,EAAE,CAAC;QAC7C,CAAC;;;OAAA;IAnDD;QAAC,YAAK,EAAE;;qDAAA;IAER;QAAC,YAAK,EAAE;;+CAAA;IAER;QAAC,YAAK,EAAE;;+CAAA;IAaR;QAAC,mBAAY,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;gDAAA;IAOlC;QAAC,mBAAY,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;+CAAA;IAOjC;QAAC,mBAAY,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;gDAAA;IA7CtC;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;YAC5B,IAAI,EAAE;gBACF,sBAAsB,EAAE,MAAM;gBAC9B,uBAAuB,EAAE,MAAM;gBAC/B,0BAA0B,EAAE,MAAM;gBAClC,mBAAmB,EAAE,MAAM;gBAC3B,yBAAyB,EAAE,QAAQ;gBACnC,aAAa,EAAE,MAAM;gBACrB,aAAa,EAAE,MAAM;aACxB;SACJ,CAAC;;qBAAA;IAuDF,oBAAC;AAAD,CAAC,AAtDD,IAsDC;AAtDY,qBAAa,gBAsDzB,CAAA;AAOD;IAAA;IAAmC,CAAC;IALpC;QAAC,eAAQ,CAAC;YACN,OAAO,EAAE,CAAC,qBAAY,CAAC;YACvB,OAAO,EAAE,CAAC,aAAa,CAAC;YACxB,YAAY,EAAE,CAAC,aAAa,CAAC;SAChC,CAAC;;2BAAA;IACiC,0BAAC;AAAD,CAAC,AAApC,IAAoC;AAAvB,2BAAmB,sBAAI,CAAA","sourcesContent":["import {NgModule,Directive,ElementRef,HostListener,Input,OnInit} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\n@Directive({\n    selector: '[pInputTextarea]',\n    host: {\n        '[class.ui-inputtext]': 'true',\n        '[class.ui-corner-all]': 'true',\n        '[class.ui-state-default]': 'true',\n        '[class.ui-widget]': 'true',\n        '[class.ui-state-filled]': 'filled',\n        '[attr.rows]': 'rows',\n        '[attr.cols]': 'cols'\n    }\n})\nexport class InputTextarea implements OnInit {\n    \n    @Input() autoResize: boolean;\n    \n    @Input() rows: number;\n    \n    @Input() cols: number;\n    \n    rowsDefault: number;\n    \n    colsDefault: number;\n        \n    constructor(public el: ElementRef) {}\n    \n    ngOnInit() {\n        this.rowsDefault = this.rows;\n        this.colsDefault = this.cols;\n    }\n    \n    @HostListener('focus', ['$event']) \n    onFocus(e) {        \n        if(this.autoResize) {\n            this.resize();\n        }\n    }\n    \n    @HostListener('blur', ['$event']) \n    onBlur(e) {        \n        if(this.autoResize) {\n            this.resize();\n        }\n    }\n    \n    @HostListener('keyup', ['$event']) \n    onKeyup(e) {\n        if(this.autoResize) {\n            this.resize();\n        }\n    }\n    \n    resize () {\n        let linesCount = 0,\n        lines = this.el.nativeElement.value.split('\\n');\n\n        for(let i = lines.length-1; i >= 0 ; --i) {\n            linesCount += Math.floor((lines[i].length / this.colsDefault) + 1);\n        }\n\n        this.rows = (linesCount >= this.rowsDefault) ? (linesCount + 1) : this.rowsDefault;\n    }\n        \n    get filled(): boolean {\n        return this.el.nativeElement.value != '';\n    }\n}\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [InputTextarea],\n    declarations: [InputTextarea]\n})\nexport class InputTextareaModule { }"]}